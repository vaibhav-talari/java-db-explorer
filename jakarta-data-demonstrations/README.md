# About

This module explores Jakarta Data API. Since there are 5 tables we define 5 interfaces each annotated with `@Repository` provided by `jakarta.data.repository.Repository`. The database properties are defined at `src/main/resources/META-INF/persistence.xml`. The database password is not hardcoded in the file therefore it should be passed during application startup.

## About Project classes

We look at the primary classes involved in this module.

- `CustomersRepository.java` repository annotated class for `Customers` entity model.
- `OrderItemsRepository.java` repository annotated class for `OrderItems` entity model.
- `OrdersRepository.java` repository annotated class for `Orders` entity model.
- `PaymentsRepository.java` repository annotated class for `Payments` entity model.
- `ProductsRepository.java` repository annotated class for `Products` entity model.

## Required Dependencies

We look at the dependencies required for this module.

```
<dependency>
	<groupId>com.example.javadbexplorer</groupId>
	<artifactId>common-entities</artifactId>
	<version>1</version>
</dependency>

<!-- jakarta data -->
<dependency>
    <groupId>jakarta.data</groupId>
    <artifactId>jakarta.data-api</artifactId>
</dependency>

<!--object relation mapping provider (ORM), the hibernate orm core has the implementation details for both jpa and jakarta data-->
<dependency>
    <groupId>org.hibernate.orm</groupId>
    <artifactId>hibernate-core</artifactId>
</dependency>
```

## Maven Plugin Configuration

We look at some additional Maven plugin configuration required for this module.

```
<!-- hibernate annotation processor which produces the Jakarta Persistence static metamodel, validates queries at compilation time, and implements Jakarta Data repositories  -->
<plugin>
	<groupId>org.apache.maven.plugins</groupId>
	<artifactId>maven-compiler-plugin</artifactId>
	<configuration>
		<annotationProcessorPaths>
			<path>
				<groupId>org.hibernate.orm</groupId>
				<artifactId>hibernate-processor</artifactId>
				<version>${hibernate-core.version}</version>
			</path>
		</annotationProcessorPaths>
	</configuration>
</plugin>

<!-- maven plugin to add generated source as source folder for eclipse to recognize the generated code as source. Ideally you need to require it, we are doing this since we are testing Jakarta Data API without CDI and directly instantiation the repository interface generated by the hibernate processor plugin. -->
<plugin>
	<groupId>org.codehaus.mojo</groupId>
	<artifactId>build-helper-maven-plugin</artifactId>
	<version>3.6.1</version>
	<executions>
		<execution>
			<id>add-source</id>
			<phase>generate-sources</phase>
			<goals>
				<goal>add-source</goal>
			</goals>
			<configuration>
				<sources>
					<source>target/generated-sources/annotations/</source>
				</sources>
			</configuration>
		</execution>
	</executions>
</plugin>
```

# Starting the Application with Eclipse

Follow the steps to start the application.

- Right click on project (`jakarta-data-demonstration`) -> Run As -> Run configurations.
- On the left side menu ensure the configuration is under **Java Application**.
- On the right side menu navigate to `Arguments` tab
- Populate the `VM Arguments` Field with: `-DDB_PASS=<database-password>`.



